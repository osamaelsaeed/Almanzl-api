{
    "/orders/{id}/pay": {
        "put": {
            "tags": ["Orders"],
            "summary": "Mark order as paid",
            "description": "Marks an order as paid after a successful transaction. Returns the updated order object.",
            "operationId": "updateOrderPaidStatus",
            "security": [{ "bearerAuth": [] }],
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": { "type": "string" },
                    "description": "Order ID"
                }
            ],
            "responses": {
                "200": {
                    "description": "Order marked as paid successfully",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "success": { "type": "boolean", "example": true },
                                    "message": {
                                        "type": "string",
                                        "example": "Order marked as paid successfully"
                                    },
                                    "data": { "$ref": "#/components/schemas/Order" }
                                },
                                "required": ["success", "message", "data"]
                            },
                            "example": {
                                "success": true,
                                "message": "Order marked as paid successfully",
                                "data": {
                                    "_id": "6730e5a9c1d9a5aefc61d6bb",
                                    "userId": "6728e5a9c1d9a5aefc61d6aa",
                                    "orderItems": [
                                        {
                                            "productId": "6728e5a9c1d9a5aefc61d6a1",
                                            "name": "Modern Wooden Table",
                                            "price": 2500,
                                            "quantity": 2
                                        }
                                    ],
                                    "itemsPrice": 5000,
                                    "shippingPrice": 100,
                                    "discountAmount": 0,
                                    "totalPrice": 5100,
                                    "isPaid": true,
                                    "paidAt": "2025-11-06T12:00:00Z",
                                    "status": "confirmed"
                                }
                            }
                        }
                    }
                },
                "400": {
                    "description": "Invalid order state (already paid)",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "success": { "type": "boolean", "example": false },
                                    "message": {
                                        "type": "string",
                                        "example": "Order is already marked as paid"
                                    }
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "Order not found",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "success": { "type": "boolean", "example": false },
                                    "message": {
                                        "type": "string",
                                        "example": "Order not found"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
